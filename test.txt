

SYSTÈME DE GESTION DES CONGÉS - GABON (VERSION FINALE)
1. TYPES DE CONGÉS
L'application gère 5 types de congés :

Congé payé (congé de vacances)
Congé maternité
Congé paternité
Congé maladie
Autre (congés personnels non protégés) - Maximum 4 jours par demande


2. PROCESSUS DE DEMANDE ET D'APPROBATION
Statuts d'une demande de congé :

En attente
Approuvé
Rejeté
Annulé

Workflow :

L'employé fait une demande de congé (exemple : demande faite le 10, pour un congé du 18 au 25)
Le chef de département approuve ou rejette la demande
Seules les demandes avec statut "Approuvé" déclenchent les actions automatiques


3. RÈGLES DE VALIDATION DES DEMANDES
Délai de préavis obligatoire :

Toute demande de congé doit être faite 7 jours avant le début du congé
Si la demande est faite avec moins de 7 jours d'avance, elle est automatiquement rejetée ou nécessite une validation spéciale

Limitation du nombre de congés simultanés :

L'application limite le nombre d'employés pouvant être en congé en même temps
Règle : Maximum X% de l'effectif du département peut être en congé simultanément (à définir, ex: 20% ou 30%)
Si ce quota est atteint, les nouvelles demandes pour cette période sont automatiquement mises en attente ou rejetées
Le chef de département reçoit une notification indiquant que le quota est atteint

Limitation pour congé "Autre" :

Pour le type de congé "Autre" : l'employé ne peut demander maximum 4 jours par demande
Si l'employé demande plus de 4 jours pour un congé "Autre", la demande est automatiquement rejetée
Message d'erreur : "Le congé 'Autre' est limité à 4 jours maximum par demande"

Vérification du solde :

Pour les congés payés et congés "Autre" : impossible de demander plus de jours que le solde disponible
Pour les congés protégés (maternité, paternité, maladie) : pas de vérification du solde (ce sont des droits légaux)

Chevauchement de dates :

L'application empêche un employé de faire 2 demandes de congé sur des périodes qui se chevauchent
Vérification automatique avant validation de la demande


4. GESTION DES JUSTIFICATIFS
Upload de documents :

Possibilité d'uploader des justificatifs lors de la demande (certificat médical, acte de naissance, etc.)
Formats acceptés : PDF, JPG, PNG
Taille maximale par fichier : à définir (ex: 5 MB)
Obligatoire pour certains types de congés (ex: certificat médical pour congé maladie)


5. NOTIFICATIONS AUTOMATIQUES
Pour l'employé :

✉️ Notification quand sa demande est approuvée
✉️ Notification quand sa demande est rejetée (avec raison : délai insuffisant, quota atteint, limite de 4 jours dépassée, etc.)
✉️ Notification 2-3 jours avant le début de son congé (rappel)
✉️ Notification mensuelle sur son solde de congés disponible
✉️ Notification en cas d'annulation ou modification de sa demande

Pour le chef de département :

✉️ Notification quand une nouvelle demande arrive
✉️ Rappel automatique si une demande est en attente depuis X jours (ex: 3 jours)
✉️ Notification quand le quota de congés simultanés est proche ou atteint


6. ANNULATION ET MODIFICATION DE DEMANDE
Annulation de demande :

L'employé peut annuler sa demande uniquement avant le début du congé
Une fois le congé commencé (compte désactivé), l'annulation n'est plus possible
Si la demande était "Approuvée", le solde est réajusté automatiquement (pour congés "Autre" et congés payés)

Modification de dates :

L'employé peut demander une modification des dates de son congé
La modification nécessite une nouvelle approbation du chef de département
La modification doit respecter les mêmes règles : délai de 7 jours, quota de congés simultanés, limite de 4 jours pour "Autre"
La demande originale reste active jusqu'à validation de la modification
Si modification refusée, la demande originale reste en vigueur

Retour anticipé :

L'employé peut signaler un retour anticipé (retour avant la date prévue)
Le système réajuste automatiquement :

Le compte est réactivé immédiatement (statut "Actif")
Le solde de congé est recalculé (seuls les jours réellement pris sont déduits pour congés "Autre" et congés payés)
Le calcul du solde reprend dès la réactivation du compte
Le quota de congés simultanés est mis à jour (libère une place)


Notification automatique au chef de département


7. ACTIVATION/DÉSACTIVATION AUTOMATIQUE DU COMPTE
Désactivation automatique :

Le compte est désactivé automatiquement le jour précédant le début du congé à 23h59
Exemple : Congé du 18 au 25 → Désactivation le 17 à 23h59
Le statut de l'employé passe à "Inactif"

Réactivation automatique :

Le compte est réactivé automatiquement le dernier jour du congé à 00h00
Exemple : Congé du 18 au 25 → Réactivation le 25 à 00h00
Le statut de l'employé passe à "Actif"

⚠️ Important : Cette fonctionnalité s'applique uniquement pours les types de congés (payé)

8. CALCUL DU SOLDE DE CONGÉS PAYÉS
Règle de base : 1 mois de travail = 2 jours de congé
Fonctionnement du calcul :


Le calcul continue uniquement quand le compte est à partir de la date à laquelle le conte à été crée (created_at)"Actif"
Quand le compte est "Inactif" (pendant les congés) → le calcul s'arrête
Quand le compte redevient "Actif" → le calcul reprend à partir de cette date de réactivation

Exclusions dans le calcul :

Les weekends ne sont pas comptabilisés
Les jours fériés gabonais ne sont pas comptabilisés (année en cours + 3 ans à venir)


9. IMPACT DES DIFFÉRENTS CONGÉS SUR LE SOLDE
Congés qui N'AFFECTENT PAS le solde :

Congé maternité
Congé paternité
Congé maladie
→ Ces congés sont protégés car naturels/légaux

Congés qui RÉDUISENT le solde :

Congé payé : déduit du solde
Congé "Autre" : déduit du solde (maximum 4 jours par demande)
→ Chaque jour pris est déduit du solde de congés payés accumulé


10. ALERTE LÉGALE
Avertissement automatique :

Si un employé n'a pas pris de congés depuis trop longtemps (durée à définir : ex. 12 mois)
Le système envoie une alerte :

À l'employé concerné
À son chef de département
Aux Ressources Humaines


Objectif : respect du Code du Travail gabonais et bien-être des employés


11. EXEMPLES PRATIQUES COMPLETS
Situation initiale :

Employé embauché depuis 3 mois pleins
Solde accumulé = 3 mois × 2 jours = 6 jours de congé
Département de 10 personnes, quota max : 30% (3 personnes max en congé simultanément)


Scénario 1 : Congé "Autre" - Dépassement de la limite

Le 1er novembre : demande de congé "Autre" du 10 au 15 novembre (6 jours)
❌ Demande automatiquement rejetée : limite de 4 jours maximum pour congé "Autre" dépassée
Notification envoyée à l'employé : "Le congé 'Autre' est limité à 4 jours maximum par demande"
Solde : reste à 6 jours


Scénario 2 : Congé "Autre" - Conforme (4 jours max)

Le 1er novembre : demande de congé "Autre" du 10 au 13 novembre (4 jours)
Le 2 novembre : chef approuve la demande
Le 9 novembre à 23h59 : compte désactivé automatiquement → statut "Inactif"
Le 13 novembre à 00h00 : compte réactivé automatiquement → statut "Actif"
Solde après congé : 6 - 4 = 2 jours
Le calcul des congés reprend à partir du 13 novembre


Scénario 3 : Quota de congés simultanés atteint

Actuellement : 3 personnes du département sont déjà en congé du 10 au 15 novembre
Le 1er novembre : employé demande un congé payé du 10 au 15 novembre
❌ Demande automatiquement rejetée : quota de 30% (3 personnes) déjà atteint
Notification envoyée à l'employé : "Le quota de congés simultanés est atteint pour cette période"
Notification envoyée au chef : "Quota de congés atteint du 10 au 15 novembre"
Solde : reste à 6 jours


Scénario 4 : Demande rejetée (délai insuffisant)

Le 8 novembre : demande de congé payé du 12 au 17 novembre (4 jours seulement avant début uniquement pour les congé payé pas pour les autres)
❌ Demande automatiquement rejetée : délai de préavis de 7 jours non respecté
Notification envoyée à l'employé : "Votre demande doit être faite au moins 7 jours avant le début du congé"
Solde : reste à 6 jours


Scénario 5 : Congé payé avec retour anticipé

Le 1er novembre : demande de congé payé du 10 au 17 novembre (8 jours, mais solde = 6 jours)
❌ Demande automatiquement rejetée : solde insuffisant (seulement 6 jours disponibles )
L'employé refait une demande pour 6 jours : du 10 au 15 novembre
Le 2 novembre : chef approuve la demande
Le 9 novembre à 23h59 : compte désactivé automatiquement → statut "Inactif"
Le 13 novembre : employé signale un retour anticipé (au lieu du 15)
Le 13 novembre : compte réactivé immédiatement → statut "Actif"
Solde après congé : 6 - 4 = 2 jours (seuls les 10, 11, 12, 13 sont déduits)
Quota de congés simultanés : une place est libérée
Le calcul des congés reprend à partir du 13 novembre


Scénario 6 : Congé maladie avec justificatif (congé protégé)

Le 1er novembre : demande de congé maladie du 10 au 17 novembre (8 jours)
Upload du certificat médical obligatoire
Le 2 novembre : chef approuve la demande après vérification du justificatif
Pas de vérification du solde (congé protégé)
Le 8 novembre : notification de rappel envoyée à l'employé
Le 9 novembre à 23h59 : compte désactivé automatiquement → statut "Inactif"
Le 17 novembre à 00h00 : compte réactivé automatiquement → statut "Actif"
Solde après congé : reste à 6 jours (congé protégé, aucune déduction)
Le calcul des congés reprend à partir du 17 novembre







j'ai besoin de ton aide pour recuperer les données du backend vias javascript dynamiqument tout ce qui concer les fonctionalité du backend je veux que tu adapte le frontend sans derangé gerer les telechargement ouverture de document cofirmation de suppression avec swetalerte scuss après action quand une demande est effectue puis la page rafrechis

pouvoir modifier ou supprimer la demande qui a le staut 'en attente/Refusé"
voir et telechercgae les demande avec le statut "approuvé"

en touca gère bien le coté frontend en fonction dubakenc ajoute des chos au front si ça necessite par rapport au backend mais je veux pas de css

tout doitre etre recuperer dynamyquement pas de boucle laravel je ne veux pas

voici mes roote mon controller mon code js et mon blade.

donne moi les code complèt et àjour
